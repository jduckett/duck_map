<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
<title>
  File: GUIDE
  
    &mdash; Documentation by YARD 0.8.3
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '';
  framesUrl = "frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: GUIDE</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><div id='filecontents'><h1>Duck Map Guide</h1>

<h2>Overview</h2>

<p>In simple terms, an XML Sitemap is a list of the pages on your website.  Sitemaps generated by this gem are accessible via HTTP using a url
defined in config/routes.rb.  The default sitemap can be found at: /sitemap.xml  Sitemap content is constructed based on standard Rails named routes
and the process of generating the content is very straightforward.</p>

<ul>
<li>access a sitemap via a url such as: /sitemap.xml</li>
<li>get a list of named routes defined for the sitemap</li>
<li>generate URL nodes for each of the named routes.</li>
</ul>

<p>That&#39;s it!!</p>

<h2>Sitemap Definitions</h2>

<h3>Default Sitemap</h3>

<p>Duck Map gem is designed as a Rails Engine.  As part of the gem loading process, a default sitemap is configured via a config/routes.rb file located within
the gem.  The default sitemap is named :sitemap, has a path of: /sitemap.xml and contains all of the routes defined by your app.  If no routes are defined,
sitemap will produce empty xml content.</p>

<pre class="code ruby"><code><span class='comment'># the following example will produce a default sitemap and requires zero configuration.
</span><span class='const'>MyApp</span><span class='op'>::</span><span class='const'>Application</span><span class='period'>.</span><span class='id identifier rubyid_routes'>routes</span><span class='period'>.</span><span class='id identifier rubyid_draw'>draw</span> <span class='kw'>do</span>

  <span class='id identifier rubyid_resources'>resources</span> <span class='symbol'>:trucks</span>
  <span class='id identifier rubyid_root'>root</span> <span class='symbol'>:to</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>home#index</span><span class='tstring_end'>&quot;</span></span>

<span class='kw'>end</span>
</code></pre>

<p>contents of /sitemap.xml will look similar to the following:</p>

<pre class="code ruby"><code>&lt;url&gt;
  &lt;loc&gt;http://localhost:3000/trucks.html&lt;/loc&gt;
  &lt;lastmod&gt;2011-11-03T06:44:25+00:00&lt;/lastmod&gt;
  &lt;changefreq&gt;monthly&lt;/changefreq&gt;
  &lt;priority&gt;0.5&lt;/priority&gt;
&lt;/url&gt;
&lt;url&gt;
  &lt;loc&gt;http://localhost:3000/&lt;/loc&gt;
  &lt;lastmod&gt;2011-11-03T06:44:25+00:00&lt;/lastmod&gt;
  &lt;changefreq&gt;monthly&lt;/changefreq&gt;
  &lt;priority&gt;0.5&lt;/priority&gt;
&lt;/url&gt;
</code></pre>

<h3>Using Sitemap Block Statements</h3>

<p>You can control the contents of your sitemap using block statements and route filters.  Sitemaps are defined in config/routes.rb by enclosing
named routes within a sitemap block.  The default sitemap is the equivalent of enclosing the entire contents of config/routes.rb in a sitemap block.
The following example redefines the default sitemap by wrapping a few routes in a sitemap block.  Notice that bikes is excluded from the default sitemap.</p>

<pre class="code ruby"><code><span class='const'>MyApp</span><span class='op'>::</span><span class='const'>Application</span><span class='period'>.</span><span class='id identifier rubyid_routes'>routes</span><span class='period'>.</span><span class='id identifier rubyid_draw'>draw</span> <span class='kw'>do</span>

  <span class='comment'># notice that bikes is not included in the default sitemap.
</span>  <span class='id identifier rubyid_resources'>resources</span> <span class='symbol'>:bikes</span>

  <span class='comment'># here we are wrapping a couple of routes for inclusion in the default sitemap.
</span>  <span class='id identifier rubyid_sitemap'>sitemap</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_resources'>resources</span> <span class='symbol'>:cars</span>
    <span class='id identifier rubyid_resources'>resources</span> <span class='symbol'>:trucks</span>
    <span class='id identifier rubyid_root'>root</span> <span class='symbol'>:to</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>home#index</span><span class='tstring_end'>'</span></span>
  <span class='kw'>end</span>

<span class='kw'>end</span>
</code></pre>

<p>contents of sitemap.xml will look similar to the following:</p>

<pre class="code ruby"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;urlset xmlns=&quot;http://www.sitemaps.org/schemas/sitemap/0.9&quot;&gt;
  &lt;url&gt;
    &lt;loc&gt;http://localhost:3000/cars.html&lt;/loc&gt;
    &lt;lastmod&gt;2011-11-03T07:35:00+00:00&lt;/lastmod&gt;
    &lt;changefreq&gt;monthly&lt;/changefreq&gt;
    &lt;priority&gt;0.5&lt;/priority&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://localhost:3000/trucks.html&lt;/loc&gt;
    &lt;lastmod&gt;2011-11-03T07:35:00+00:00&lt;/lastmod&gt;
    &lt;changefreq&gt;monthly&lt;/changefreq&gt;
    &lt;priority&gt;0.5&lt;/priority&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://localhost:3000/&lt;/loc&gt;
    &lt;lastmod&gt;2011-11-03T07:35:00+00:00&lt;/lastmod&gt;
    &lt;changefreq&gt;monthly&lt;/changefreq&gt;
    &lt;priority&gt;0.5&lt;/priority&gt;
  &lt;/url&gt;
&lt;/urlset&gt;
</code></pre>

<h3>Simple Sitemap Block Rule</h3>

<p>You can include as many sitemap blocks as you desire.  All sitemap blocks can point to the same sitemap name, multiple names, or any combination.
The following two blocks are equivalent.</p>

<pre class="code ruby"><code><span class='const'>MyApp</span><span class='op'>::</span><span class='const'>Application</span><span class='period'>.</span><span class='id identifier rubyid_routes'>routes</span><span class='period'>.</span><span class='id identifier rubyid_draw'>draw</span> <span class='kw'>do</span>

  <span class='id identifier rubyid_sitemap'>sitemap</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_resources'>resources</span> <span class='symbol'>:cars</span>
    <span class='id identifier rubyid_root'>root</span> <span class='symbol'>:to</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>home#index</span><span class='tstring_end'>'</span></span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_sitemap'>sitemap</span> <span class='symbol'>:sitemap</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_resources'>resources</span> <span class='symbol'>:trucks</span>
  <span class='kw'>end</span>

<span class='kw'>end</span>
</code></pre>

<p>In fact, if you were to use the above block definitions it would produce a single sitemap containing cars, trucks, and the root url by simply merging
all of the definitions into one.  It doesn&#39;t matter how many times you define a sitemap block.  It will ALWAYS merges all routes into one sitemap definition.</p>

<p>The simple rule for using sitemap blocks is:</p>

<ul>
<li>If a sitemap block has been defined, include everything within the block.</li>
<li>If no sitemap blocks have been defined, include everything in config/routes.rb.</li>
</ul>

<p>In fact, the default sitemap is defined without a block and includes all routes in config/routes.rb.  However, if you redefine the default sitemap
using a block only those routes will be included.</p>

<h3>Defining Multiple Sitemaps</h3>

<p>You can group routes into multiple sitemaps.  Simply pass a name to the sitemap block and a new sitemap route containing all of the routes you include
within the block will be included in the sitemap.  The following will produce three separate sitemaps.</p>

<pre class="code ruby"><code><span class='const'>MyApp</span><span class='op'>::</span><span class='const'>Application</span><span class='period'>.</span><span class='id identifier rubyid_routes'>routes</span><span class='period'>.</span><span class='id identifier rubyid_draw'>draw</span> <span class='kw'>do</span>

  <span class='id identifier rubyid_sitemap'>sitemap</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_root'>root</span> <span class='symbol'>:to</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>home#index</span><span class='tstring_end'>'</span></span>
    <span class='id identifier rubyid_resources'>resources</span> <span class='symbol'>:faqs</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_sitemap'>sitemap</span> <span class='symbol'>:electronics</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_resources'>resources</span> <span class='symbol'>:cameras</span>
    <span class='id identifier rubyid_resources'>resources</span> <span class='symbol'>:laptops</span>
    <span class='id identifier rubyid_resources'>resources</span> <span class='symbol'>:desktops</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_sitemap'>sitemap</span> <span class='symbol'>:tools</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_resources'>resources</span> <span class='symbol'>:hand_tools</span>
    <span class='id identifier rubyid_resources'>resources</span> <span class='symbol'>:power_tools</span>
  <span class='kw'>end</span>

<span class='kw'>end</span>
</code></pre>

<ul>
<li>default sitemap accessible at: http://localhost:3000/sitemap.xml</li>
<li>electronics sitemap accessible at: http://localhost:3000/electronics.xml</li>
<li>tools sitemap accessible at: http://localhost:3000/tools.xml</li>
</ul>

<h3>Namespaces</h3>

<p>Namespaces are supported for sitemaps.  Namespaces could be a great solution for logically grouping sitemaps for large sites. Sitemaps behave in the
same manner regardless of namespace.  The main difference is the path pointing to the actual sitemap content.  The following example defines
five sitemaps including the default.</p>

<pre class="code ruby"><code><span class='const'>MyApp</span><span class='op'>::</span><span class='const'>Application</span><span class='period'>.</span><span class='id identifier rubyid_routes'>routes</span><span class='period'>.</span><span class='id identifier rubyid_draw'>draw</span> <span class='kw'>do</span>

  <span class='id identifier rubyid_namespace'>namespace</span> <span class='symbol'>:products</span> <span class='kw'>do</span>

    <span class='id identifier rubyid_sitemap'>sitemap</span> <span class='kw'>do</span>                            <span class='comment'># /products/sitemap.xml
</span>      <span class='id identifier rubyid_namespace'>namespace</span> <span class='symbol'>:video</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_sitemap'>sitemap</span> <span class='kw'>do</span>                        <span class='comment'># /products/video/sitemap.xml
</span>          <span class='id identifier rubyid_sitemap'>sitemap</span> <span class='symbol'>:bluray</span> <span class='kw'>do</span>              <span class='comment'># /products/video/bluray.xml
</span>            <span class='id identifier rubyid_resources'>resources</span> <span class='symbol'>:blu_ray_players</span>
          <span class='kw'>end</span>

          <span class='id identifier rubyid_resources'>resources</span> <span class='symbol'>:dvd_players</span>
          <span class='id identifier rubyid_resources'>resources</span> <span class='symbol'>:accessories</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>

      <span class='id identifier rubyid_namespace'>namespace</span> <span class='symbol'>:audio</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_sitemap'>sitemap</span> <span class='kw'>do</span>                        <span class='comment'># /products/audio/sitemap.xml
</span>          <span class='id identifier rubyid_resources'>resources</span> <span class='symbol'>:head_phones</span>
          <span class='id identifier rubyid_resources'>resources</span> <span class='symbol'>:speakers</span>
          <span class='id identifier rubyid_resources'>resources</span> <span class='symbol'>:accessories</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_resources'>resources</span> <span class='symbol'>:papers</span>
      <span class='id identifier rubyid_resources'>resources</span> <span class='symbol'>:pencils</span>
    <span class='kw'>end</span>

  <span class='kw'>end</span>

  <span class='id identifier rubyid_root'>root</span> <span class='symbol'>:to</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>home#index</span><span class='tstring_end'>'</span></span>                <span class='comment'># included in the default sitemap: /sitemap.xml
</span>  <span class='id identifier rubyid_resources'>resources</span> <span class='symbol'>:faqs</span>

<span class='kw'>end</span>
</code></pre>

<ul>
<li>Products sitemap includes paper and pencils.

<ul>
<li>Products/video includes dvd_players and accessories.</li>
<li>Products/video/bluray includes blu_ray_players.  Notice that the sitemap block includes the name: bluray.  If we would have excluded the name,
the routes within the block would have simply been added to /products/video/sitemap.xml and /products/video/bluray.xml would never be defined.</li>
<li>Products/audio includes head_phones, speakers, and accessories.</li>
</ul></li>
<li>The default sitemap includes the root url and FAQs.</li>
</ul>

<h3>Nested Resources</h3>

<h3>Route Filters</h3>

<h2>Values And Attributes</h2>

<p>Values are generated for two main areas:</p>

<ol>
<li>Url nodes of a sitemap</li>
<li>Meta tags of a page.</li>
</ol>

<p>How those values are generated depends on the handler generating them, however, all of the handlers follow a general
procedure.  Start with default values and continue to merge new values until all of the options and logic for the given
handler have been completely exhausted.</p>

<p>For example, when generating sitemap or meta tag values for the index action of a controller, the <span class='object_link'><a href="DuckMap/Handlers/Index.html" title="DuckMap::Handlers::Index (module)">index handler</a></span>
will:</p>

<ul>
<li>grab the global default values and put them into a Hash.</li>
<li>ask the controlller for any values that it needs to overwrite and merge them with the Hash.</li>
<li>if the first_model option is true, then, it will find the first model on the controller, ask it for values to overwrite and merge them with the Hash.</li>
<li>and so on.</li>
</ul>

<p>The index handler actually does a little more work than described, however, the overall point is that all of the handlers will start with global defaults
and overwrite values as per handler behavior and configuration.  The intent is to give the developer the power to fine tune the content that is generated
for any particular sitemap url node or meta tag down to the lowest possible levels.</p>

<h3>Setting Global Default Values And Attributes</h3>

<p>Global default values and attributes are set in config/routes.rb.  See <span class='object_link'><a href="DuckMap/ConfigHelpers.html" title="DuckMap::ConfigHelpers (module)">DuckMap::ConfigHelpers</a></span> for a list of all of the available helper methods to set
values and attributes within config/routes.rb file.</p>

<pre class="code ruby"><code><span class='const'>MyApp</span><span class='op'>::</span><span class='const'>Application</span><span class='period'>.</span><span class='id identifier rubyid_routes'>routes</span><span class='period'>.</span><span class='id identifier rubyid_draw'>draw</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_title'>title</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>My Rails App</span><span class='tstring_end'>&quot;</span></span>              <span class='comment'># default title for meta tags
</span>  <span class='id identifier rubyid_lastmod'>lastmod</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>02/04/2013</span><span class='tstring_end'>&quot;</span></span>              <span class='comment'># default last-modified date for sitemap and meta tags
</span>  <span class='id identifier rubyid_canonical_host'>canonical_host</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>www.example.com</span><span class='tstring_end'>&quot;</span></span>  <span class='comment'># default canonical host for sitemap and meta tags.
</span><span class='kw'>end</span>
</code></pre>

<p>There are three methods used to configure values and attributes for global configuration, controllers and models.</p>

<ol>
<li><span class='object_link'><a href="DuckMap/SitemapObject/ClassMethods.html#acts_as_sitemap-instance_method" title="DuckMap::SitemapObject::ClassMethods#acts_as_sitemap (method)">acts_as_sitemap</a></span> - sets all values and attributes including handlers and segments.</li>
<li><span class='object_link'><a href="DuckMap/SitemapObject/ClassMethods.html#sitemap_handler-instance_method" title="DuckMap::SitemapObject::ClassMethods#sitemap_handler (method)">sitemap_handler</a></span> - wrapper method for acts_as_sitemap.</li>
<li><span class='object_link'><a href="DuckMap/SitemapObject/ClassMethods.html#sitemap_segments-instance_method" title="DuckMap::SitemapObject::ClassMethods#sitemap_segments (method)">sitemap_segments</a></span> - wrapper method for acts_as_sitemap.</li>
</ol>

<p>Two of the methods are really just convenience methods to help reduce code clutter.  All of the handlers are capable
of being configured globally as well.  Let&#39;s say you have a standard column on all of your tables named &quot;tags&quot; and it
is used to store information that would work well for the keywords meta tag.  You can easily tell all of the handlers
within your app to use the &quot;tags&quot; attribute from a model by using the following configuration.</p>

<pre class="code ruby"><code><span class='const'>MyApp</span><span class='op'>::</span><span class='const'>Application</span><span class='period'>.</span><span class='id identifier rubyid_routes'>routes</span><span class='period'>.</span><span class='id identifier rubyid_draw'>draw</span> <span class='kw'>do</span>
  <span class='id identifier rubyid_acts_as_sitemap'>acts_as_sitemap</span> <span class='label'>keywords:</span> <span class='symbol'>:tags</span>
<span class='kw'>end</span>
</code></pre>

<h3>Setting Values And Attributes Directly On The Controller And Model</h3>

<p>You can fine tune the values that are generated by the handlers by using acts_as_sitemap, sitemap_handler or sitemap_segments directly
on a controller, model or both.  The syntax is the same regardless of where you use it.  The following example configures a global title that is overwritten with a static title String for all index actions
and grabs the &quot;my_title&quot; attribute from the first model found on the controller during a show action.</p>

<pre class="code ruby"><code><span class='const'>MyApp</span><span class='op'>::</span><span class='const'>Application</span><span class='period'>.</span><span class='id identifier rubyid_routes'>routes</span><span class='period'>.</span><span class='id identifier rubyid_draw'>draw</span> <span class='kw'>do</span>

  <span class='comment'># default title for meta tags
</span>  <span class='id identifier rubyid_title'>title</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>My Rails App</span><span class='tstring_end'>&quot;</span></span>

  <span class='comment'># this would overwrite the global title &quot;My Rails App&quot;
</span>  <span class='comment'># if the current object has the &quot;common_title&quot; attribute, otherwise, it would use &quot;My Rails App&quot;
</span>  <span class='id identifier rubyid_acts_as_sitemap'>acts_as_sitemap</span> <span class='label'>title:</span> <span class='symbol'>:common_title</span>

<span class='kw'>end</span>

<span class='kw'>class</span> <span class='const'>BooksController</span> <span class='op'>&lt;</span> <span class='const'>ApplicationController</span>

  <span class='comment'># this would overwrite the global title &quot;My Rails App&quot;
</span>  <span class='id identifier rubyid_acts_as_sitemap'>acts_as_sitemap</span> <span class='symbol'>:index</span><span class='comma'>,</span> <span class='label'>title:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Books Listing</span><span class='tstring_end'>&quot;</span></span>

  <span class='comment'># this would overwrite the global title &quot;My Rails App&quot;
</span>  <span class='comment'># if the current object has the &quot;my_title&quot; attribute, otherwise, it would use &quot;My Rails App&quot;
</span>  <span class='id identifier rubyid_acts_as_sitemap'>acts_as_sitemap</span> <span class='symbol'>:show</span><span class='comma'>,</span> <span class='label'>title:</span> <span class='symbol'>:my_title</span>

<span class='kw'>end</span>
</code></pre>

<h2>Meta Tags</h2>

<p>A feature of DuckMap is synchronization of data between sitemap and meta tags.  Meaning, data contained in a sitemap should match meta tag data within
the HEAD section of a page.  Handlers are the single mechanism used to provide data to both sitemaps and meta tags.  sitemap_meta_tag is a helper method
that provides title, keywords, description, last-modified, and canonical url.  Existing Rails apps may already have code
in place that provides some or all of the data items generated by sitemap_meta_tag and could potentially force you to write
some hack to accomodate both.  So, you have the opiton of using sitemap_meta_tag to generate all meta tag items or you can
call individual methods to generate the only data you want.</p>

<pre class="code ruby"><code># app/layouts/application.html.erb
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;%= sitemap_meta_tags %&gt;
&lt;/head&gt;

# would generate something similar to the following:
&lt;head&gt;
  &lt;title&gt;My First Book&lt;/title&gt;
  &lt;meta content=&quot;Rails, Ruby on Rails, Ruby, Programming&quot; name=&quot;keywords&quot; /&gt;
  &lt;meta content=&quot;This is a short description of my application.&quot; name=&quot;description&quot; /&gt;
  &lt;meta content=&quot;Wed, 01 Jan 2014 07:07:00 UTC&quot; name=&quot;Last-Modified&quot; /&gt;
&lt;/head&gt;

# here we are using a couple individual methods
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;%= sitemap_meta_title %&gt;
  &lt;%= sitemap_meta_lastmod %&gt;
  &lt;%= sitemap_meta_canonical %&gt;
&lt;/head&gt;
</code></pre>

<h2>Logging</h2>

<p>Duck Map keeps a detailed log during the generation of a sitemap.  Use this log to determine why a route is or is not being included in a siteamp.  The default
log level is :info.  Switch to :debug to see every step in the process.  The location of the log file is in the standard Rails log directory and the file is
named: duck_map.log.</p>

<h2>Generators</h2>

<h3>duckmap:sitemaps</h3>

<p>The following rails generator will display all of the sitemap routes defined in config/routes.rb</p>

<pre class="code ruby"><code>rails g duckmap:sitemaps

Sitemap routes
route name                               controller_name#action_name
                                         path
---------------------------------------------------------------------------------------------------------------
sitemap_sitemap                          sitemap#sitemap
                                        /sitemap.:format
</code></pre>

<h3>duckmap:static</h3>

<h3>duckmap:sync</h3>

<p>Sychronizing with .git and local files on disk.
You have the power to include any route within a sitemap.  There is no requirement to have a model associated with any given route.  In fact, you may have a route
with several actions that contain some type of content where it makes sense that the last time the actual view file for an action represents the actual
last modified date for that action.  There are two ways to synchronize last modified dates for an application.</p>

<pre class="code ruby"><code><span class='comment'># via rails generator
</span><span class='id identifier rubyid_rails'>rails</span> <span class='id identifier rubyid_g'>g</span> <span class='label'>duck_map:</span><span class='id identifier rubyid_sync'>sync</span>

<span class='comment'># via rails task
</span><span class='id identifier rubyid_rake'>rake</span> <span class='label'>duck_map:</span><span class='id identifier rubyid_sync'>sync</span>
</code></pre>

<p>The acutal timestamp values are stored in a locale at: config/locales/sitemap.yml  Below is sample content.</p>

<pre class="code ruby"><code>--- 
:sitemap: 
  home: 
    index: 10/24/2011 02:03:51
</code></pre>

<p>When a Rails app needs a lastmod for a controller it will look to this file as the source for static values.  Running the generator or rake task will populate this
file for you, however, you have the option of manually editing this file.  The synchronization process uses the values in this file when deciding which timestamp
to use as the last modified date for an actions view file.  The decision is very simple.  The synchronization process will grab the timestamp from the actual view file
for the action on local disk, grab the timestamp of the same view file from a .git repository, and grab the timestamp of the view file from config/locales/sitemap.yml,
then, it will compare all three values.  The value that is the latest date/time wins the fight and that value is stored for the action inside config/locales/sitemap.yml</p>

<p>It is up to you to decide when to run the synchronization process.  If you are using a .git repository, then, you would have to commit all of you files, run the
synchronization process, then, commit again.  It may be an option to run the synchronization process during some type of central deployment procedure or even run
it on the production server.</p>

<h2>Demo applications</h2>

<p>You can find articles and demo apps at: <a href="http://jeffduckett.com/blogs.html">http://jeffduckett.com/blogs.html</a></p>

<h2>Copyright</h2>

<p>Copyright (c) 2011 Jeff Duckett. See license.txt for details.</p>
</div></div>

    <div id="footer">
  Generated on Tue Feb 19 18:40:43 2013 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.3 (ruby-1.9.3).
</div>

  </body>
</html>